<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			padding: 0;
			margin: 0;
		}
		.wrap{
			width: 300px;
			margin: 100px auto 0px;
		}
		table{
			/*为表格设置合并边框*/
			border-collapse: collapse;
			border-spacing: 0;
			border: 1px solid #c0c0c0;
			width: 300px;
		}
		th,
		td{
			border: 1px solid #d0d0d0;
			color: #404060;
			padding:10px;
			text-align: center;
		}
		th{
			background-color: #09c;
			font:bold 16px "微软雅黑";
			color:#fff;
		}
		td{
			font:14px "微软雅黑";
		}
		tbody tr{
			background-color: #f0f0f0;
		}
		tr:hover{
			cursor: pointer;
			background-color: #fafafa;
		}
	</style>
</head>
<body>
	<div class="wrap">
		<table>
			<thead>
				<tr>
					<th><input type="checkbox" id="j_cbAll"></th>
					<th>菜名</th>
					<th>饭店</th>
				</tr>
			</thead>
			<tbody id="j_tb">
				<tr>
					<td><input type="checkbox"></td>
					<td>红烧肉</td>
					<td>李老师</td>
				</tr>
				<tr>
					<td><input type="checkbox" ></td>
					<td>西红柿炒鸡蛋</td>
					<td>李老师</td>
				</tr>
				<tr>
					<td><input type="checkbox" ></td>
					<td>油炸榴莲</td>
					<td>李老师</td>
				</tr>
				<tr>
					<td><input type="checkbox"></td>
					<td>湖南臭豆腐</td>
					<td>李老师</td>
				</tr>
			</tbody>
		</table>
	</div>
	<script src="common.js">
	</script>
	<script type="text/javascript">
		//获取全选的这个复选框
		var ckAll=my$("j_cbAll");
		//获取tbody的所有小复选框
		var cks=my$("j_tb").getElementsByTagName('input');
		//点击全选的这个复选框，获取他当前的状态，然后设置tbody中所有复选框的状态
		ckAll.onclick=function(){
			for(var i = 0;i<cks.length;i++)
			{
				cks[i].checked = this.checked;
			}
		};
		//获取tbody中的所有的复选框，分别注册点击事件
		for(var i = 0;i<cks.length;i++)
		{
			cks[i].onclick=function(){
				var flag = true;
				//判断是否所有的复选框都选中了
				for(j=0;j<cks.length;j++)
				{
					if(!cks[j].checked)
					{
						//没选中就进来了
						flag=false;
						break;
					}
				}
				//全选的这个复选框的状态就是flag的变量的值
				ckAll.checked=flag;
			}
		}
	</script>
</body>
</html>