<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>填充纹理</title>
	<style type="text/css">
		body{
			background: url('img/小鸡.png') repeat;
		}
		#canvas{
			border: 1px solid #aaaaaa;
			display: block;
			margin: 50px auto;
		}

	</style>
</head>
<body>
	<div id="canvas-warp">
		<canvas id="canvas">
			你的浏览器居然不支持canvas,赶快换个浏览器吧!
		</canvas>
	</div>

	<script type="text/javascript">
		window.onload=function(){
			var canvas = document.getElementById('canvas');
			canvas.width=800;
			canvas.height=600;
			var context = context=canvas.getContext('2d');
			context.fillStyle='#FFF';
			context.fillRect(0,0,800,600);

			drawRoundRect(context,200,100,300,300,50);
			context.strokeStyle = '#0078AA';//边框颜色
			context.stroke();
		}
		function drawRoundRect(ctx,x,y,width,height,radius){
			ctx.beginPath();
			ctx.arc(x+radius,y+radius,radius,Math.PI,Math.PI*3/2);
			ctx.lineTo(width+x+radius,y);
			ctx.arc(width+x+radius,y+radius,radius,Math.PI*3/2,Math.PI*2);
			ctx.lineTo(width+x+2*radius,y+height+radius);
			ctx.arc(width+x+radius,height+radius+y,radius,0,Math.PI*1/2);
			ctx.lineTo(radius+x,height+y+2*radius);
			ctx.arc(radius+x,height+radius+y,radius,Math.PI*1/2,Math.PI);
			ctx.lineTo(x,y+radius)
			ctx.closePath();

		}


	</script>
	<!--
	<script type="text/javascript">
		window.onload=function(){
			var canvas=document.getElementById('canvas');
			canvas.width=800;
			canvas.height=600;
			var context=canvas.getContext('2d');

			var img = new Image();
			img.src = 'img/鹿.jpg';
			img.onload=function(){
				var pattern = context.createPattern(img,'repeat');
				context.fillStyle=pattern;
				context.fillRect(0,0,800,600);
			}
		}

	</script>
-->
</body>
</html>